{% extends "base.html" %}

{% block title %}Editar equipo{% endblock %}

{% block content %}
<div class="d-flex flex-wrap justify-content-between align-items-center gap-2 mb-3">
    <div>
        <h1 class="h3 mb-1">Editar equipo</h1>
        <p class="text-muted mb-0">Identificador: {{ equipo.identificador }}</p>
    </div>
    <a class="btn btn-outline-secondary" href="{% url 'equipo_detail' equipo.pk %}">Volver</a>
</div>

{% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
{% endif %}

<form method="post" class="card shadow-sm">
    {% csrf_token %}
    <div class="card-body">
        <div class="row g-3">
            <div class="col-md-6">
                <label class="form-label">Marca</label>
                <select class="form-select" name="marca">
                    <option value="">--</option>
                    {% for marca_id, nombre in marcas %}
                        <option value="{{ marca_id }}" {% if form_data.marca == marca_id|stringformat:"s" %}selected{% endif %}>
                            {{ nombre }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-6">
                <label class="form-label">Modelo</label>
                <select class="form-select" name="modelo">
                    <option value="">--</option>
                    {% for modelo_id, nombre in modelos %}
                        <option value="{{ modelo_id }}" {% if form_data.modelo == modelo_id|stringformat:"s" %}selected{% endif %}>
                            {{ nombre }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-6">
                <label class="form-label">Sistema operativo</label>
                <select class="form-select" name="sistema_operativo">
                    <option value="">--</option>
                    {% for sistema_id, nombre in sistemas_operativos %}
                        <option value="{{ sistema_id }}" {% if form_data.sistema_operativo == sistema_id|stringformat:"s" %}selected{% endif %}>
                            {{ nombre }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-6">
                <label class="form-label">Tipo de equipo</label>
                <select class="form-select" name="tipo_equipo">
                    <option value="">--</option>
                    {% for tipo_id, nombre in tipos_equipo %}
                        <option value="{{ tipo_id }}" {% if form_data.tipo_equipo == tipo_id|stringformat:"s" %}selected{% endif %}>
                            {{ nombre }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-6">
                <label class="form-label">Direcci처n IP</label>
                <input class="form-control" name="direccion_ip" value="{{ form_data.direccion_ip }}">
            </div>
            <div class="col-md-6">
                <label class="form-label">Direcci처n MAC</label>
                <input class="form-control" name="direccion_mac" value="{{ form_data.direccion_mac }}">
            </div>
            <div class="col-md-6">
                <label class="form-label">Entidad</label>
                <input class="form-control" name="entidad" value="{{ form_data.entidad }}">
            </div>
            <div class="col-md-6">
                <label class="form-label">Municipio</label>
                <input class="form-control" name="municipio" value="{{ form_data.municipio }}">
            </div>
            <div class="col-md-6">
                <label class="form-label">Domicilio</label>
                <input class="form-control" name="domicilio" value="{{ form_data.domicilio }}">
            </div>
            <div class="col-md-3">
                <label class="form-label">C처digo postal</label>
                <input class="form-control" name="codigo_postal" value="{{ form_data.codigo_postal }}">
            </div>
            <div class="col-md-3">
                <label class="form-label">Antig체edad</label>
                <input class="form-control" name="antiguedad" value="{{ form_data.antiguedad }}">
            </div>
            <div class="col-md-4">
                <label class="form-label">RPE responsable</label>
                <input class="form-control" name="rpe_responsable" value="{{ form_data.rpe_responsable }}">
            </div>
            <div class="col-md-8">
                <label class="form-label">Nombre responsable</label>
                <input class="form-control" name="nombre_responsable" value="{{ form_data.nombre_responsable }}">
            </div>
            <div class="col-md-12">
                <label class="form-label">Centro de costo</label>
                <select class="form-select" name="centro_costo" required>
                    <option value="">Seleccione</option>
                    {% for centro_id, codigo, nombre in centros_costo %}
                        <option value="{{ centro_id }}" {% if form_data.centro_costo == centro_id|stringformat:"s" %}selected{% endif %}>
                            {{ codigo }} - {{ nombre }}
                        </option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </div>
    <div class="card-footer d-flex justify-content-end gap-2">
        <a class="btn btn-outline-secondary" href="{% url 'equipo_detail' equipo.pk %}">Cancelar</a>
        <button type="submit" class="btn btn-primary">Guardar cambios</button>
    </div>
</form>
{% endblock %}
